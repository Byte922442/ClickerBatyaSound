<!doctype html>
<html lang="ru">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no" />
  <title>кликер sonal</title>
  <style>
    :root { --red: #ff0000; --gold: #ffcc00; --bg: #010101; --win: #080808; --border: #222; }
    * { box-sizing: border-box; outline: none; -webkit-tap-highlight-color: transparent; }
    
    body { 
      margin: 0; height: 100vh; background: var(--bg); color: #fff; 
      font-family: 'Consolas', monospace; overflow: hidden; 
      display: flex; justify-content: center; align-items: center;
      user-select: none; /* Запрет выделения текста при кликах */
    }
    
    .main-screen { position: relative; z-index: 10; text-align: center; transition: filter 0.3s; width: 100%; }
    .blur { filter: blur(20px) brightness(0.2); pointer-events: none; }
    
    /* АДАПТИВНЫЙ ЗАГОЛОВОК */
    h1 { font-size: clamp(60px, 15vw, 130px); font-weight: 900; margin-bottom: 10px; font-style: italic; text-transform: uppercase; letter-spacing: -2px; }
    h1 span { color: var(--red); text-shadow: 0 0 25px var(--red); }
    
    /* АДАПТИВНАЯ КНОПКА */
    #crushBtn { 
      padding: clamp(30px, 5vh, 50px) clamp(60px, 10vw, 130px); 
      font-size: clamp(35px, 8vw, 70px); font-weight: 900; 
      background: linear-gradient(180deg, var(--red), #400); 
      color: #fff; border: none; border-radius: 20px; 
      box-shadow: 0 10px 0 #200, 0 35px 70px rgba(255,0,0,0.5); 
      cursor: pointer; transition: transform 0.05s;
      width: 80%; max-width: 600px;
    }
    #crushBtn:active { transform: translateY(8px); box-shadow: 0 2px 0 #200; }

    /* КНОПКА МАРКЕТА */
    .open-shop-btn { 
      position: fixed; top: 15px; right: 15px; 
      padding: 15px 25px; font-size: clamp(16px, 4vw, 24px); 
      background: #111; border: 2px solid var(--border); 
      color: var(--gold); font-weight: 900; z-index: 50; 
    }
    
    .modal-overlay { position: fixed; inset: 0; background: rgba(0,0,0,0.95); display: none; justify-content: center; align-items: center; z-index: 200; }
    .modal-overlay.active { display: flex; }
    
    /* ОКНО МАГАЗИНА ДЛЯ ТЕЛЕФОНА */
    .shop-window { 
      width: 95%; max-width: 800px; height: 90vh; 
      background: var(--win); border: 2px solid #333; 
      padding: clamp(20px, 5vw, 50px); position: relative; overflow-y: auto; 
    }

    #shop-msg { position: fixed; top: 50%; left: 50%; transform: translate(-50%, -50%); width: 90%; text-align: center; color: var(--red); font-weight: 900; font-size: clamp(30px, 10vw, 50px); pointer-events: none; opacity: 0; z-index: 300; }
    #shop-msg.show { opacity: 1; animation: shake 0.2s infinite; }
    @keyframes shake { 0%, 100% {transform: translate(-50%, -50%);} 50% {transform: translate(-51%, -49%);} }

    .shop-header-text { color: var(--red); font-weight: 900; margin-bottom: 30px; font-size: clamp(24px, 6vw, 45px); text-transform: uppercase; border-bottom: 4px solid var(--red); padding-bottom: 10px; }
    
    .item-row { display: flex; flex-direction: column; gap: 15px; padding: 20px; background: #000; border: 1px solid #111; margin-bottom: 15px; }
    @media(min-width: 600px) { .item-row { flex-direction: row; justify-content: space-between; align-items: center; } }

    .item-info-title { font-size: clamp(20px, 5vw, 32px); font-weight: 900; text-transform: uppercase; }
    .item-info-sub { font-size: 14px; color: var(--gold); margin-top: 5px; font-weight: bold; }
    
    .buy-btn { padding: 15px 25px; font-size: 20px; font-weight: 900; background: #1a1a1a; color: #fff; border: none; width: 100%; text-transform: uppercase; }
    @media(min-width: 600px) { .buy-btn { width: auto; min-width: 200px; } }
    .buy-btn.owned { background: #0b240b; color: #0f0; }
    .buy-btn.active-snd { background: var(--gold); color: #000; }

    /* СТАТИСТИКА */
    .stats { position: fixed; top: 15px; left: 15px; z-index: 100; pointer-events: none; }
    .balance-val { font-size: clamp(30px, 8vw, 70px); font-weight: 900; color: #fff; line-height: 1; }
    .income-info { font-size: clamp(14px, 4vw, 24px); color: var(--gold); margin-top: 5px; font-weight: bold; }
  </style>
</head>
<body>

<div id="shop-msg">МАЛО БАБОК!</div>

<div class="stats">
  <div style="color:#555; font-size:12px; font-weight:bold;">CASH_TOTAL:</div>
  <div class="balance-val" id="bal">0</div>
  <div class="income-info" id="income">ДОХОД: +500</div>
</div>

<button class="open-shop-btn" onclick="toggleShop(true)">АРСЕНАЛ</button>

<div class="modal-overlay" id="modal">
  <div class="shop-window">
    <div style="position:absolute; top:5px; right:15px; cursor:pointer; font-size:50px; color:#555;" onclick="toggleShop(false)">×</div>
    <div class="shop-header-text">АРСЕНАЛ SONAL</div>
    <div id="shop-content"></div>
  </div>
</div>

<div class="main-screen" id="main">
  <h1>УД<span>АР</span></h1>
  <button id="crushBtn">CRUSH</button>
</div>

<script>
  const balEl = document.getElementById('bal'), incomeEl = document.getElementById('income'), main = document.getElementById('main'), modal = document.getElementById('modal'), shopContent = document.getElementById('shop-content'), msg = document.getElementById('shop-msg'), btn = document.getElementById('crushBtn');

  let state = { balance: 0, current: "sounds.mp3", inv: ["sounds.mp3"], currentIncome: 500 };

  const sounds = [
    { id: "sounds.mp3", n: "УДАР", p: 0, inc: 500 },
    { id: "sound2.mp3", n: "ГАРАЖ БАЛГАРКА", p: 2500, inc: 1000 },
    { id: "sound3.mp3", n: "МУСУЛЬМАНИН", p: 10000, inc: 2500 },
    { id: "sound4.mp3", n: "Я ЕГО ЩАС ОТХУЯРЮ", p: 35000, inc: 5000 },
    { id: "sound5.mp3", n: "С ПИСЮНОМ ПОИГРАЙ", p: 80000, inc: 8000 },
    { id: "sound6.mp3", n: "ГАДАЛКА", p: 150000, inc: 12000 },
    { id: "sound7.mp3", n: "ВАДИМ ДОМОЙ", p: 300000, inc: 18000 },
    { id: "sound8.mp3", n: "ААА ЦИГАНЕ", p: 600000, inc: 25000 },
    { id: "sound9.mp3", n: "ИДИ НАХУЙ", p: 1200000, inc: 35000 },
    { id: "sound10.mp3", n: "ОЙ БЛЯТЬ НЕ ХОЧЕШЬ", p: 2500000, inc: 50000 },
    { id: "sound11.mp3", n: "А ТЫ ЧЕ ВЫРЯДИЛСЯ", p: 5000000, inc: 100000 },
    { id: "sound12.mp3", n: "ПЕТРОВИЧ ГАНДОН", p: 10000000, inc: 250000 }
  ];

  const pool = {};
  sounds.forEach(s => { pool[s.id] = Array.from({length: 4}, () => new Audio(s.id)); });

  function play() {
    const s = pool[state.current][Math.floor(Math.random()*4)];
    s.currentTime = 0; s.play().catch(()=>{});
  }

  function toggleShop(open) {
    if(open) { modal.classList.add('active'); main.classList.add('blur'); renderShop(); }
    else { modal.classList.remove('active'); main.classList.remove('blur'); }
  }

  function showFail() { msg.classList.add('show'); setTimeout(() => msg.classList.remove('show'), 1500); }

  function renderShop() {
    shopContent.innerHTML = '';
    sounds.forEach(s => {
      const owned = state.inv.includes(s.id), active = state.current === s.id;
      const row = document.createElement('div');
      row.className = 'item-row';
      row.innerHTML = `
        <div>
          <div class="item-info-title">${s.n}</div>
          <div class="item-info-sub">ДОХОД: +${s.inc.toLocaleString()}</div>
        </div>
        <button class="buy-btn ${active?'active-snd':(owned?'owned':'')}" onclick="buy('${s.id}', ${s.p}, ${s.inc})">
          ${active?'АКТИВ':(owned?'ВЫБРАТЬ':s.p.toLocaleString())}
        </button>
      `;
      shopContent.appendChild(row);
    });
    balEl.innerText = state.balance.toLocaleString();
    incomeEl.innerText = `ДОХОД: +${state.currentIncome.toLocaleString()}`;
  }

  window.buy = (id, p, inc) => {
    if(state.inv.includes(id)) { state.current = id; state.currentIncome = inc; }
    else if(state.balance >= p) { state.balance -= p; state.inv.push(id); state.current = id; state.currentIncome = inc; }
    else { showFail(); }
    renderShop();
  };

  btn.onclick = (e) => { 
    e.preventDefault(); // Предотвращает зум при клике
    play(); 
    state.balance += state.currentIncome; 
    renderShop(); 
  };

  renderShop();
</script>
</body>
</html>